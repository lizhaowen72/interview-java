原子性的本质是什么?
其实不是不可分割,不可分割只是外在表现,其本质是多个资源间有一致性的要求,操作的中间状态对外不可见
.例如,在32位的机器上写long型变量有中间状态(只写了64位汇总的32位),在银行转账的操作中也有中间状态.
(账户A减少了100,账户B还没来得及发生变化).所以解决原子性问题,是要保证中间状态对外不可见.

