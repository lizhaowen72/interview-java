死锁:一组互相竞争资源的线程因为互相等待,导致永久阻塞的现象

如何预防死锁?
死锁发生的四个条件:
    1.互斥,共享资源X和Y只能被一个线程占用
    2.占有且等待,线程T1已经取得共享资源X,在等待共享资源Y的时候,不释放共享资源X;
    3.不可抢占,其他线程不能强行抢占线程T1占有的资源
    4.循环等待,线程T1等待线程T2占有的资源,线程T2等待线程T1占有的资源,就是循环等待

如何避免死锁的发生?
    其中,互斥这个条件我们没有办法破坏,因为我们用锁为的就是互斥
    1.对于"占有且等待"这个条件,我们可以一次性申请所有的资源,这样就不存在等待了
    2.对于"不可抢占"这个条件,占用部分资源的线程进一步申请其他资源时,如果申请不到,可以主动
释放它占有的资源,这样不可抢占这个条件就破坏掉了
    3.对于“循环等待”这个条件，可以靠按序申请资源来预防。所谓按序申请，是指资源是有线性顺序
    的，申请的时候可以先申请资源序号小的，再申请资源序号大的，这样线性化后自然就不存在循环了